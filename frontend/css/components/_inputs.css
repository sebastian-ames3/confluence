/* ============================================
   Input Components (PRD-026 Compliant)
   Text inputs, selects, checkboxes, toggles
   ============================================ */

/* ----- Base Input ----- */
.input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-display);
  font-size: var(--text-sm);
  color: var(--text-primary);
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  outline: none;
  transition: all var(--transition-fast);
  min-height: 44px;
}

.input::placeholder {
  color: var(--text-muted);
}

.input:hover {
  border-color: var(--text-muted);
}

.input:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

.input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background: var(--bg-elevated);
}

/* ----- Glass Input ----- */
.input-glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
}

.input-glass:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

/* ----- Neumorphic Input ----- */
.input-neu {
  background: var(--neu-bg);
  border: none;
  box-shadow:
    inset 2px 2px 5px var(--neu-shadow-dark),
    inset -2px -2px 5px var(--neu-shadow-light);
}

.input-neu:focus {
  box-shadow:
    inset 2px 2px 5px var(--neu-shadow-dark),
    inset -2px -2px 5px var(--neu-shadow-light),
    0 0 0 3px rgba(96, 165, 250, 0.2);
}

/* ----- Input Sizes ----- */
.input-sm {
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: var(--text-xs);
  min-height: 36px;
}

.input-lg {
  padding: var(--spacing-md) var(--spacing-lg);
  font-size: var(--text-base);
  min-height: 52px;
}

/* ----- Input States ----- */
.input-error {
  border-color: var(--danger);
}

.input-error:focus {
  border-color: var(--danger);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

.input-success {
  border-color: var(--success);
}

.input-success:focus {
  border-color: var(--success);
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
}

/* ----- Input with Icon ----- */
.input-group {
  position: relative;
  display: flex;
  align-items: center;
}

.input-icon-left {
  padding-left: calc(var(--spacing-md) + 24px);
}

.input-icon-right {
  padding-right: calc(var(--spacing-md) + 24px);
}

.input-icon {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  color: var(--text-muted);
  pointer-events: none;
}

.input-icon-left + .input-icon,
.input-group > .input-icon:first-child {
  left: var(--spacing-md);
}

.input-group > .input-icon:last-child {
  right: var(--spacing-md);
}

/* Clickable icon */
.input-icon-btn {
  pointer-events: auto;
  cursor: pointer;
  transition: color var(--transition-fast);
}

.input-icon-btn:hover {
  color: var(--text-primary);
}

/* ----- Textarea ----- */
.textarea {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  font-family: var(--font-display);
  font-size: var(--text-sm);
  color: var(--text-primary);
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  outline: none;
  resize: vertical;
  min-height: 100px;
  transition: all var(--transition-fast);
}

.textarea:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

/* ----- Select ----- */
.select {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  padding-right: calc(var(--spacing-md) + 20px);
  font-family: var(--font-display);
  font-size: var(--text-sm);
  color: var(--text-primary);
  background: var(--bg-surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  outline: none;
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%2394A3B8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--spacing-sm) center;
  transition: all var(--transition-fast);
  min-height: 44px;
}

.select:hover {
  border-color: var(--text-muted);
}

.select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

.select:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ----- Checkbox ----- */
.checkbox-wrapper {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  cursor: pointer;
  user-select: none;
}

.checkbox {
  position: relative;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.checkbox input {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

.checkbox-custom {
  position: absolute;
  top: 0;
  left: 0;
  width: 20px;
  height: 20px;
  background: var(--bg-surface);
  border: 2px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.checkbox input:hover + .checkbox-custom {
  border-color: var(--primary);
}

.checkbox input:focus + .checkbox-custom {
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

.checkbox input:checked + .checkbox-custom {
  background: var(--primary);
  border-color: var(--primary);
}

.checkbox-custom::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 6px;
  width: 5px;
  height: 10px;
  border: 2px solid white;
  border-top: none;
  border-left: none;
  transform: rotate(45deg) scale(0);
  transition: transform var(--transition-bounce);
}

.checkbox input:checked + .checkbox-custom::after {
  transform: rotate(45deg) scale(1);
}

.checkbox-label {
  font-size: var(--text-sm);
  color: var(--text-secondary);
}

/* ----- Radio Button ----- */
.radio-wrapper {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  cursor: pointer;
  user-select: none;
}

.radio {
  position: relative;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.radio input {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

.radio-custom {
  position: absolute;
  top: 0;
  left: 0;
  width: 20px;
  height: 20px;
  background: var(--bg-surface);
  border: 2px solid var(--border-subtle);
  border-radius: 50%;
  transition: all var(--transition-fast);
}

.radio input:hover + .radio-custom {
  border-color: var(--primary);
}

.radio input:focus + .radio-custom {
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

.radio input:checked + .radio-custom {
  border-color: var(--primary);
}

.radio-custom::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 10px;
  height: 10px;
  background: var(--primary);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  transition: transform var(--transition-bounce);
}

.radio input:checked + .radio-custom::after {
  transform: translate(-50%, -50%) scale(1);
}

/* ----- Toggle Switch ----- */
.toggle {
  position: relative;
  width: 48px;
  height: 24px;
  flex-shrink: 0;
}

.toggle input {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

.toggle-track {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--bg-elevated);
  border-radius: var(--radius-full);
  transition: background var(--transition-fast);
}

.toggle input:checked + .toggle-track {
  background: var(--primary);
}

.toggle-thumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition-bounce);
}

.toggle input:checked ~ .toggle-thumb {
  transform: translateX(24px);
}

.toggle input:focus + .toggle-track {
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

/* Toggle sizes */
.toggle-sm {
  width: 36px;
  height: 20px;
}

.toggle-sm .toggle-thumb {
  width: 16px;
  height: 16px;
}

.toggle-sm input:checked ~ .toggle-thumb {
  transform: translateX(16px);
}

/* ----- Form Group ----- */
.form-group {
  margin-bottom: var(--spacing-md);
}

.form-label {
  display: block;
  margin-bottom: var(--spacing-sm);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-secondary);
}

.form-label.required::after {
  content: ' *';
  color: var(--danger);
}

.form-hint {
  margin-top: var(--spacing-sm);
  font-size: var(--text-xs);
  color: var(--text-muted);
}

.form-error {
  margin-top: var(--spacing-sm);
  font-size: var(--text-xs);
  color: var(--danger-light);
}

/* ----- Search Input ----- */
.search-input {
  padding-left: calc(var(--spacing-md) + 24px);
  padding-right: calc(var(--spacing-md) + 24px);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%2394A3B8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: var(--spacing-md) center;
}

/* ----- Floating Label ----- */
.input-floating {
  position: relative;
}

.input-floating .input {
  padding-top: var(--spacing-lg);
}

.input-floating .floating-label {
  position: absolute;
  left: var(--spacing-md);
  top: 50%;
  transform: translateY(-50%);
  font-size: var(--text-sm);
  color: var(--text-muted);
  pointer-events: none;
  transition: all var(--transition-fast);
  background: transparent;
}

.input-floating .input:focus + .floating-label,
.input-floating .input:not(:placeholder-shown) + .floating-label {
  top: var(--spacing-sm);
  transform: translateY(0);
  font-size: var(--text-xs);
  color: var(--primary);
}

/* ----- Input Addons ----- */
.input-addon-group {
  display: flex;
}

.input-addon {
  display: flex;
  align-items: center;
  padding: 0 var(--spacing-md);
  background: var(--bg-elevated);
  border: 1px solid var(--border-subtle);
  font-size: var(--text-sm);
  color: var(--text-muted);
}

.input-addon:first-child {
  border-right: none;
  border-radius: var(--radius-lg) 0 0 var(--radius-lg);
}

.input-addon:last-child {
  border-left: none;
  border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
}

.input-addon-group .input {
  border-radius: 0;
}

.input-addon-group .input:first-child {
  border-radius: var(--radius-lg) 0 0 var(--radius-lg);
}

.input-addon-group .input:last-child {
  border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
}
