# PRD-010: Web Dashboard

**Version**: 1.0  
**Date**: 2025-11-18  
**Phase**: 4 - Dashboard & Deployment  
**Duration**: 4 days  
**Status**: Not Started  
**Dependencies**: PRD-009

---

## Objective

Build mobile-responsive web dashboard for viewing confluence data, triggering manual actions, and tracking themes over time.

---

## Success Criteria

- [ ] All 5 pages functional
- [ ] Mobile-responsive (tested on iPhone)
- [ ] Loads <2 seconds
- [ ] Real-time updates
- [ ] Manual triggers work
- [ ] Sebastian can navigate intuitively

---

## Pages

### 1. Today's View (Home)
**Purpose**: Quick snapshot of latest analysis

**Components**:
- High-conviction ideas (score ≥7/10)
- Latest updates from each source
- Urgent signals (priority=high)
- Quick actions (run collection, re-analyze)

**Layout**:
```
┌─────────────────────────────────────┐
│ High Conviction Ideas         (3)   │
│ ┌─────────────────────────────────┐ │
│ │ Tech Rotation    Score: 11/14   │ │
│ │ 3 sources • Updated 2h ago      │ │
│ └─────────────────────────────────┘ │
│                                     │
│ Latest Updates                      │
│ • 42macro: ATH report (1h ago)      │
│ • Discord: Imran video (3h ago)     │
│                                     │
│ [Run Collection] [Force Analysis]   │
└─────────────────────────────────────┘
```

### 2. Theme Tracker
**Purpose**: Monitor active investment ideas

**Components**:
- List of active themes
- Conviction trend charts
- Supporting evidence timeline
- Status (active/acted/invalidated)

**Features**:
- Click theme → see all evidence
- Mark theme as "acted upon"
- Invalidate theme (stops tracking)

### 3. Source Browser
**Purpose**: Drill into specific sources

**Components**:
- Source selector (42macro, Discord, Twitter, etc.)
- List of recent content from source
- Filter by date range
- View raw content + analysis

### 4. Confluence Matrix
**Purpose**: Visual heatmap of pillar scores

**Components**:
- Heatmap: rows=themes, columns=pillars
- Color coded: green (2), yellow (1), red (0)
- Click cell → see reasoning

**Example**:
```
                Macro  Fund  Val  Pos  Pol  Price  Vol
Tech Rotation     2     1     2    1    2     2     1
Fed Pivot         2     1     1    2    2     1     1
Energy Rebound    1     2     2    0    1     1     2
```

### 5. Historical View
**Purpose**: See theme evolution over time

**Components**:
- Theme selector
- Conviction line chart over time
- Evidence timeline (when new data arrived)
- Bayesian update log

---

## Technology Stack

### Option A: React
- Modern, component-based
- Good for real-time updates
- More complex setup

### Option B: Vanilla JS + HTML/CSS
- Simpler, Sebastian's familiar
- Less tooling overhead
- Easier to modify

**Recommendation**: Vanilla JS for MVP (aligns with Sebastian's vibe coding style)

---

## Technical Implementation

### Frontend Structure (Vanilla JS)
```
frontend/
├── index.html              # Today's View
├── themes.html             # Theme Tracker
├── sources.html            # Source Browser
├── matrix.html             # Confluence Matrix
├── historical.html         # Historical View
├── css/
│   └── style.css          # Single stylesheet
└── js/
    ├── main.js            # Common utilities
    ├── api.js             # Backend API calls
    ├── charts.js          # Chart rendering
    └── realtime.js        # WebSocket for updates
```

### Backend API Endpoints
```
GET  /api/dashboard/today          # Today's view data
GET  /api/themes                   # All themes
GET  /api/themes/:id               # Single theme details
POST /api/themes/:id/status        # Update theme status
GET  /api/sources/:name            # Source content
GET  /api/confluence/matrix        # Matrix data
GET  /api/historical/:theme_id     # Historical data

POST /api/collect/trigger          # Manual collection
POST /api/analyze/trigger          # Manual re-analysis
```

---

## Tasks

### Task 10.1: Design UI/UX (4 hours)
Wireframes for all 5 pages, mobile + desktop.

### Task 10.2: Build HTML/CSS (8 hours)
All 5 pages with responsive design.

### Task 10.3: API Integration (8 hours)
Connect frontend to backend endpoints.

### Task 10.4: Charts & Visualizations (6 hours)
Conviction line charts, heatmap, timelines.

### Task 10.5: Real-time Updates (4 hours)
WebSocket or polling for live updates.

### Task 10.6: Manual Triggers (3 hours)
Buttons to run collection, force analysis.

### Task 10.7: Mobile Testing (3 hours)
Test on iPhone, fix responsiveness issues.

### Task 10.8: Polish & UX (4 hours)
Loading states, error handling, smooth transitions.

---

## Design Guidelines

### Colors
- Background: Dark (#1a1a1a) or Light (#ffffff)
- Primary: Blue (#3b82f6)
- Success: Green (#10b981)
- Warning: Yellow (#f59e0b)
- Danger: Red (#ef4444)

### Typography
- Font: System font stack (no custom fonts)
- Sizes: 14px body, 18px headers, 24px page titles

### Mobile Breakpoints
- Mobile: <640px
- Tablet: 640px-1024px
- Desktop: >1024px

---

## Testing Plan

### Manual Testing
Sebastian will:
- Navigate all 5 pages
- Test on iPhone and laptop
- Try manual triggers
- Verify data accuracy

### Automated Testing
- API endpoint tests
- Chart rendering tests

---

## Performance Requirements

- Initial load: <2 seconds
- Page transitions: <500ms
- Chart rendering: <1 second
- API calls: <100ms (local) or <500ms (Railway)

---

## Deliverables

1. All 5 HTML pages
2. CSS stylesheet
3. JavaScript modules
4. Charts and visualizations
5. Mobile-responsive design
6. Integration with backend API

---

**Status**: Ready after PRD-009
